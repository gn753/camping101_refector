## 소개

<img width="1304" alt="캠핑장-01" src="https://github.com/gn753/camping101_refector/assets/71584114/77d951a4-2603-42a1-8e99-775351f2f091">
[배포링크](https://vercel.live/link/camping101-refector.vercel.app?via=project-overview-visit-button)

[리팩토링 이전](https://github.com/gn753/camping101_Front.git)

팀 프로젝트로 백엔드 개발자 2명 프론트엔드 1명으로 구성된 개발한 캠핑예약서비스입니다.

테스트용 아이디:test1@naver.com
테스트용 비밀번호:1234

### 저의 작업 내역

- **[예약 서비스를 위한 캘린더 Form 개발]**

  - **배경 및 목표**

    예약 서비스를 위한 캘린더 Form을 개발하면서 사용자들이 예약 가능한 날짜를 편리하게 확인하고 선택할 수 있도록 했습니다. 목표는 사용자들이 편리하게 예약 날짜를 선택할 수 있도록 돕고, 중복 예약을 방지하는 것이었습니다.

  - **행동**

    예약 가능한 날짜와 지나간 날짜를 구분하기 위한 로직을 개발하고, 이를 캘린더 Form에 적용하여 사용자가 선택할 수 있는 옵션을 제한했습니다.

  - **경험**

    이 프로젝트를 통해 날짜 데이터 타입을 능숙하게 다루며 예약 폼과 어드민 서비스를 효율적으로 해결할 수 있는 능력을 키웠습니다.

- **[쿠키 사용 제한 상황에서의 클라이언트 측 인증 처리 구현]**

  - **배경 및 목표**

    백엔드 상황으로 인해 쿠키 사용이 제한되어 클라이언트 측 렌더링에 브라우저 저장소를 활용한 Next.js 프로젝트를 진행하면서 주로 보안과 관련된 이슈와 사용자 인증 유지 문제가 발생했습니다. 이에 목표로 삼은 것은 사용자의 보안을 강화하면서 안전하게 액세스 토큰을 관리하고 최신 상태로 유지하는 것이었습니다

  - **행동:**

    Axios 미들웨어를 활용하여 로그인 기능 및 새로고침 시 로그인 유지 문제를 해결하고, 업데이트된 토큰 값을 참조할 수 있도록 Axios의 인스턴스 내에 토큰을 파라미터로 전달하는 구조를 구현했습니다.

  - **이유:**

    사용자의 보안을 고려하여 액세스 토큰을 브라우저 저장소 대신 어플리케이션 내 로컬 변수에 저장함으로써 보안성을 강화하고자 했습니다. 또한, Axios의 인스턴스가 싱글톤 패턴이기 때문에 토큰 값을 안정적으로 업데이트 하기 위한 접근 방식을 선택했습니다.

- **[사용자 권한이 필요한 기능 및 페이지 리다이렉트 개선]**

  - **배경 및 목표**

    백엔드 설정의 제한 사항을 고려하여 쿠키 사용이 제한된 상황에서 사용자 권한이 필요한 페이지에 대한 리다이렉트 구현 시 깜빡임이 발생합니다. 이는 페이지를 렌더링하는 동안 인증 과정이 이루어지기 때문에 인증된 상태로 페이지를 렌더링하지 못하고,

    잠시 이전의 비인증 상태가 노출되는 것이 원인이었습니다. 만약 쿠키 방식이었다면 서버측에서 검증 해 인증을 검사 한 후 렌더링 할 수 있었겠으나 쿠키 방식이 아니었기 때문에 대안을 찾아 해결하는것이 목표였습니다.

  - **행동:**

    클라이언트 측 토큰 검증을 통해 쿠키 제한으로 발생하는 깜빡임 문제를 대응하였으며, 액세스 권한을 관리하는 컴포넌트에 `인증 처리를 하는 컴포넌트(HOC)`를 적용했습니다.

  - **회고:** 이 경험을 통해 서버와 클라이언트 간의 통신에서 발생하는 이슈를 해결하는데 중요한 역량을 키웠습니다.

## 핵심 사용 기술 및 개발환경

1. Next js
2. Typescript
3. Recoil
4. Emotion

### 스타일 가이드

![image](./documents/imgs/styleguide-01.png)

### 폴더구조

- components  
  ├── Camp 캠핑장 목록  
  ├── Home 메인페이지  
  ├── Join 회원가입  
  ├── Login 로그인  
  ├── Resv 캠핑장 예약  
  ├── Review 캠핑장 리뷰  
  ├── ReviewDetails 리뷰 상세페이지  
  ├── User 마이페이지  
  └── common 공통  
   ├── Auth

- libs : 전역적으로 재사용가능한 상태, api 모음
- pages : 서버사이드전용 api 및 페이지 컴포넌트
- public : 이미지 및 테스트용 데이터
